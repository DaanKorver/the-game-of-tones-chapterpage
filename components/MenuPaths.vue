<template>
  <svg
    :class="{'hidden': hidden}"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="0 0 285.05 285.05"
  >
    <defs>
      <style>
        .cls-4 {
          cursor: pointer;
        }

        text {
          pointer-events: none;
          user-select: none;
        }

        .cls-1,
        .cls-14,
        .cls-5 {
          fill: none;
        }

        .cls-13,
        .cls-2,
        .cls-3 {
          fill: #2f4969;
        }

        .cls-13,
        .cls-14,
        .cls-2 {
          stroke: #254768;
        }

        .cls-13,
        .cls-14,
        .cls-2,
        .cls-5 {
          stroke-miterlimit: 10;
        }

        .cls-2 {
          stroke-width: 9px;
        }

        .cls-28,
        .cls-4 {
          fill: #fff;
        }

        .cls-5 {
          stroke: #fff;
          pointer-events: none;
          stroke-dasharray: 12;
        }

        .cls-13,
        .cls-14,
        .cls-5 {
          stroke-width: 3px;
        }

        .cls-29,
        .cls-6 {
          fill: #2f4969;
        }

        .cls-6 {
          opacity: 0.3;
        }

        .cls-24,
        .cls-26,
        .cls-30,
        .cls-7 {
          font-size: 13px;
        }

        .cls-30,
        .cls-7 {
          fill: #2f4969;
        }

        .cls-15,
        .cls-19,
        .cls-20,
        .cls-24,
        .cls-26,
        .cls-30,
        .cls-7 {
          font-family: "Poppins";
        }

        .cls-10,
        .cls-12,
        .cls-15,
        .cls-19,
        .cls-20,
        .cls-24,
        .cls-26,
        .cls-30,
        .cls-7 {
          font-weight: 500;
        }

        .cls-8 {
          letter-spacing: -0.06em;
        }

        .cls-9 {
          letter-spacing: -0.08em;
        }

        .cls-10,
        .cls-12 {
          font-size: 8px;
          font-family: "Poppins";
        }

        .cls-10,
        .cls-12,
        .cls-15,
        .cls-19,
        .cls-20 {
          fill: #254767;
        }

        .cls-11 {
          font-family: "Poppins";
          font-weight: 500;
        }

        .cls-12,
        .cls-24,
        .cls-27,
        .cls-28,
        .cls-29,
        .cls-30 {
          opacity: 0;
        }

        .cls-15 {
          font-size: 10px;
        }

        .cls-16 {
          letter-spacing: 0.02em;
        }

        .cls-17 {
          letter-spacing: 0.01em;
        }

        .cls-18 {
          letter-spacing: 0.04em;
        }

        .cls-19 {
          font-size: 12px;
        }

        .cls-20 {
          font-size: 15px;
        }

        .cls-21 {
          clip-path: url(#clip-path);
        }

        .cls-22 {
          fill: #4f7bb0;
        }

        .cls-23 {
          fill: #668069;
        }

        .cls-24,
        .cls-26 {
          fill: #254768;
        }

        .cls-25 {
          letter-spacing: -0.01em;
        }

        .cls-31 {
          clip-path: url(#clip-path-2);
        }
      </style>
      <clipPath id="clip-path" transform="translate(-35.97 -30.91)">
        <rect
          class="cls-1"
          x="172.01"
          y="248.65"
          width="12.77"
          height="12.77"
        />
      </clipPath>
      <clipPath id="clip-path-2" transform="translate(-35.97 -30.91)">
        <rect class="cls-1" x="97.09" y="194.25" width="12.77" height="12.77" />
      </clipPath>
    </defs>
    <g id="circle_2_in_sphere" data-name="circle 2 in sphere">
      <g id="cirkel_1.1">
        <circle class="cls-4" cx="96.03" cy="78.18" r="24.9" data-lesson="1" @click="navigate"/>
      </g>
    </g>
    <g id="verbindingstukje_2_circle" data-name="verbindingstukje 2 circle">
      <g id="verbindingsstreepje_2" data-name="verbindingsstreepje 2">
        <path
          class="cls-5"
          d="M97.23,182.61"
          transform="translate(-35.97 -30.91)"
        />
        <path
          class="cls-5"
          d="M119.73,116.3a81.91,81.91,0,1,1,74.48,137.35"
          transform="translate(-35.97 -30.91)"
        />
      </g>
    </g>
    <g id="verbindingstreepje_1_circle" data-name="verbindingstreepje 1 circle">
      <g id="verbindingsstreepje">
        <line class="cls-5" x1="142.63" y1="142.32" x2="94.49" y2="76.06" />
      </g>
    </g>
    <g id="circle_5_in_sphere" data-name="circle 5 in sphere">
      <g id="cirkel_putting_it_together" data-name="cirkel putting it together" data-lesson="4" @click="navigate">
        <circle class="cls-4" cx="142.63" cy="221.61" r="24.9" />
      </g>
    </g>
    <g id="circle_4_in_sphere" data-name="circle 4 in sphere">
      <g id="cirkel_1.3" data-name="cirkel 1.3" data-lesson="3" @click="navigate">
        <circle class="cls-4" cx="218.02" cy="166.82" r="24.9" />
      </g>
    </g>
    <g id="circle_1_in_sphere" data-name="circle 1 in sphere">
      <g id="cirkel_intro" data-name="cirkel intro">
        <circle class="cls-4" cx="142.63" cy="142.32" r="24.9" />
      </g>
    </g>
    <g id="circle_3_in_spere" data-name="circle 3 in spere">
      <g id="cirkel_1.2" data-name="cirkel 1.2">
        <circle class="cls-4" cx="189.24" cy="78.18" r="24.9" data-lesson="2" @click="navigate"/>
      </g>
    </g>
    <g id="_1.1_circle" data-name="1.1 circle">
      <text class="cls-7" transform="translate(86.61 85.08)">
        <tspan class="cls-8">{{ chapter }}</tspan>
        <tspan class="cls-9" x="7.26" y="0">.</tspan>
        <tspan x="10.23" y="0">1</tspan>
      </text>
    </g>
    <g id="chapter_1" data-name="chapter 1">
      <text class="cls-10" transform="translate(38.2 175.52)">
        Chapter {{ chapter }}
        <tspan class="cls-11">
          <tspan x="0" y="9.6">Pitch Successions</tspan>
        </tspan>
      </text>
    </g>
    <g id="tekst_h2" data-name="tekst h2">
      <text class="cls-12" transform="translate(38.2 116.54)">
        Chapter 2
        <tspan class="cls-11">
          <tspan x="0" y="9.6">Tonality</tspan>
        </tspan>
      </text>
    </g>
    <g id="putting_it_together_circle" data-name="putting it together circle">
      <g class="cls-21">
        <g id="Group_376" data-name="Group 376">
          <path
            id="Path_271"
            data-name="Path 271"
            class="cls-22"
            d="M177.31,259.34h-4.63a.67.67,0,0,1-.67-.67V254h5.3Z"
            transform="translate(-35.97 -30.91)"
          />
          <path
            id="Path_272"
            data-name="Path 272"
            class="cls-22"
            d="M176.7,257.38v-1.71h1.05a.86.86,0,0,1,0,1.71Z"
            transform="translate(-35.97 -30.91)"
          />
          <path
            id="Path_273"
            data-name="Path 273"
            class="cls-3"
            d="M182.82,256.12v-.45a.85.85,0,1,0-1.7,0s0,0,0,0v.45h-1.68v1.68h.44a.86.86,0,0,1,0,1.71h-.44v1.91h4.67a.67.67,0,0,0,.67-.67v-4.63Z"
            transform="translate(-35.97 -30.91)"
          />
          <path
            id="Path_274"
            data-name="Path 274"
            class="cls-3"
            d="M177.31,248.65h-4.63a.67.67,0,0,0-.67.67V254h5.3Z"
            transform="translate(-35.97 -30.91)"
          />
          <path
            id="Path_275"
            data-name="Path 275"
            class="cls-23"
            d="M176.7,250.61v1.7h1.05a.85.85,0,0,0,0-1.7Z"
            transform="translate(-35.97 -30.91)"
          />
          <path
            id="Path_276"
            data-name="Path 276"
            class="cls-22"
            d="M177.31,250.61h-.44a.85.85,0,0,0,0,1.7h.48V254H179v-.44a.85.85,0,0,1,1.7,0V254h1.91v-4.67a.67.67,0,0,0-.67-.67h-4.63Z"
            transform="translate(-35.97 -30.91)"
          />
        </g>
      </g>
    </g>
    <g id="intro">
      <text class="cls-26" transform="translate(129.09 146.66)">Intro</text>
    </g>
    <g id="_1.2_circle" data-name="1.2 circle">
      <g id="_1.2" data-name="1.2">
        <text class="cls-7" transform="translate(179.56 84.8)">
          <tspan class="cls-8">{{ chapter }}</tspan>
          <tspan x="7.26" y="0">.2</tspan>
        </text>
      </g>
    </g>
    <g id="verbindingstreepje_h2" data-name="verbindingstreepje h2">
      <g class="cls-27">
        <path
          class="cls-5"
          d="M161,253.48q-3.76-.82-7.41-2a82,82,0,0,1-56.49-68.69"
          transform="translate(-35.97 -30.91)"
        />
      </g>
    </g>
    <g id="extra_circle_h2" data-name="extra circle h2">
      <circle class="cls-28" cx="67.14" cy="167.02" r="24.9" />
    </g>
    <g id="_1.3_circle" data-name="1.3 circle">
      <text
        id="_1.3"
        data-name="1.3"
        class="cls-7"
        transform="translate(208.38 173.39)"
      >
        <tspan class="cls-8">{{ chapter }}</tspan>
        <tspan x="7.26" y="0">.3</tspan>
      </text>
    </g>
    <g id="_2.4" data-name="2.4">
      <text
        id="_1.3-2"
        data-name="1.3"
        class="cls-30"
        transform="translate(132.39 228.48)"
      >
        2.4
      </text>
    </g>
    <g id="putting_it_together_h2" data-name="putting it together h2">
      <g class="cls-27">
        <g class="cls-31">
          <g id="Group_376-2" data-name="Group 376">
            <path
              id="Path_271-2"
              data-name="Path 271"
              class="cls-22"
              d="M102.4,204.94H97.76a.67.67,0,0,1-.67-.67V199.6h5.31Z"
              transform="translate(-35.97 -30.91)"
            />
            <path
              id="Path_272-2"
              data-name="Path 272"
              class="cls-22"
              d="M101.78,203v-1.7h1.06a.85.85,0,0,1,0,1.7Z"
              transform="translate(-35.97 -30.91)"
            />
            <path
              id="Path_273-2"
              data-name="Path 273"
              class="cls-3"
              d="M107.9,201.72v-.44a.85.85,0,1,0-1.7,0v.48h-1.68v1.69H105a.85.85,0,0,1,0,1.7h-.44V207h4.68a.67.67,0,0,0,.66-.67v-4.63Z"
              transform="translate(-35.97 -30.91)"
            />
            <path
              id="Path_274-2"
              data-name="Path 274"
              class="cls-3"
              d="M102.4,194.25H97.76a.67.67,0,0,0-.67.67v4.68h5.31Z"
              transform="translate(-35.97 -30.91)"
            />
            <path
              id="Path_275-2"
              data-name="Path 275"
              class="cls-23"
              d="M101.78,196.21v1.71h1.06a.86.86,0,0,0,0-1.71Z"
              transform="translate(-35.97 -30.91)"
            />
            <path
              id="Path_276-2"
              data-name="Path 276"
              class="cls-22"
              d="M102.39,196.21H102a.86.86,0,0,0,0,1.71h.48v1.68h1.69v-.45a.86.86,0,0,1,1.71,0v.45h1.9v-4.68a.67.67,0,0,0-.66-.67h-4.64Z"
              transform="translate(-35.97 -30.91)"
            />
          </g>
        </g>
      </g>
    </g>
  </svg>
</template>

<script>
export default {
  data: ()=>{
    return {hidden: true}
  },
  props: ['chapter', 'active'],
  mounted: function() {
    this.setActiveMenu()
  },
  watch: {
    active: function() {
      this.setActiveMenu()
    }
  },
  methods: {
    setActiveMenu() {
      this.chapter == this.active ? this.hidden = false : this.hidden = true;
    },
    navigate(event) {
      const lesson = event.currentTarget.dataset.lesson
      const fullPath = this.$route.fullPath
      const newPath = fullPath.replace(/\/menu\/?/, `/chapter/${this.chapter}/lesson/${lesson}/subject/1`)
      this.$router.push(newPath)
    }
  }
}
</script>

<style scoped>
.hidden {
  animation: hide .3s ease-out forwards;
  opacity: 0;
}

svg {
  position: absolute !important;
  animation: show .3s ease-out forwards;
}

@keyframes hide {
  from {
    transform: scale(1);
    opacity: 1;
    pointer-events: all;
  }

  to {
    transform: scale(0.3);
    opacity: 0;
    pointer-events: none;
  }
}

@keyframes show {
  from {
    transform: scale(0.3);
    opacity: 0;
    pointer-events: none;
  }

  to {
    transform: scale(1);
    opacity: 1;
    pointer-events: all;
  }
}
</style>